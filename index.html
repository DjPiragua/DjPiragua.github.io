<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Juego de Preguntas Diarias</title>
</head>
<body>
  <h1>Juego de Preguntas Diarias</h1>

  <label for="userSelect">Selecciona tu usuario:</label>
  <select id="userSelect">
    <option value="" disabled selected>-- Selecciona opción --</option>
  </select>
  <button id="userButton">Continuar</button>

  <div id="questionContainer" style="display:none;">
    <h2 id="questionText"></h2>
    <div id="answersContainer"></div>
  </div>
  <div id="resultsContainer"></div>

  <script>
    const users = [
      "usuario1","usuario2","usuario3","usuario4","usuario5",
      "usuario6","usuario7","usuario8","usuario9","usuario10","usuario11"
    ];

    const questionsData = [
      {
        question: "¿Cuál es tu color favorito?",
        options: ["Azul", "Rojo", "Verde", "Amarillo"]
      },
      {
        question: "¿Qué lenguaje de programación prefieres?",
        options: ["JavaScript", "Python", "C#", "Java"]
      },
      {
        question: "¿Cuál es tu deporte favorito?",
        options: ["Fútbol", "Baloncesto", "Tenis", "Natación"]
      }
    ];

    let clickCounts = {};
    const userSelect = document.getElementById("userSelect");

    // Poblar lista de usuarios
    users.forEach(u => {
      const optEl = document.createElement("option");
      optEl.value = u;
      optEl.textContent = u;
      userSelect.appendChild(optEl);
    });

    // Evento al pulsar el botón de continuar
    document.getElementById("userButton").addEventListener("click", () => {
      if (!userSelect.value) {
        alert("Selecciona un usuario primero.");
        return;
      }
      userSelect.disabled = true;
      document.getElementById("userButton").disabled = true;
      document.getElementById("questionContainer").style.display = "block";
      showRandomQuestion();
    });

    function showRandomQuestion() {
      const randomIndex = Math.floor(Math.random() * questionsData.length);
      const currentQ = questionsData[randomIndex];

      document.getElementById("questionText").textContent = currentQ.question;
      const answersContainer = document.getElementById("answersContainer");
      answersContainer.innerHTML = "";
      document.getElementById("resultsContainer").textContent = "";

      clickCounts = {};
      currentQ.options.forEach(opt => {
        clickCounts[opt] = 0;
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.addEventListener("click", () => {
          clickCounts[opt]++;
          showResults();
        });
        answersContainer.appendChild(btn);
      });
    }

    function showResults() {
      const resultsContainer = document.getElementById("resultsContainer");
      resultsContainer.innerHTML = "";
      for (const option in clickCounts) {
        const p = document.createElement("p");
        p.textContent = `${option}: ${clickCounts[option]} votos`;
        resultsContainer.appendChild(p);
      }
    }
  </script>
</body>
</html>
